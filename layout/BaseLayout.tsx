import React, {FunctionComponent, useState, KeyboardEvent, useRef} from 'react';import {BaseLayoutProps} from "./BaseLayout.props";import Sidebar from "./components/Sidebar/Sidebar";import Footer from "./components/Footer/Footer";import Header from "./components/Header/Header";import styles from "./BaseLayout.module.css";import {AppContextProvider, IAppContext} from '../context/app.context';import {Up} from "../components";import cn from "classnames";const BaseLayout = ({children}:BaseLayoutProps):JSX.Element => {    const [displayed,setDisplayed] = useState<boolean>(false);    const bodyRef = useRef<HTMLDivElement>(null);        const skipContentAction = (key:KeyboardEvent,) => {        if(key.code == 'Enter' || key.code == 'Space'){            key.preventDefault();            bodyRef.current?.focus();        }        setDisplayed(false);    };    return (        <div className={styles.wrapper}>            <a                onFocus={()=>setDisplayed(true)}                tabIndex={1}                onKeyDown={skipContentAction}                className={cn(styles.skipLink,{                    [styles.displayed]:displayed            })}>To Content</a>            <Header className={styles.header}/>            <Sidebar className={styles.sidebar}/>            <div className={styles.body} ref={bodyRef} tabIndex={0}>                {children}            </div>            <Footer className={styles.footer}/>            <Up />        </div>    );};const withLayout = <T extends Record<string, unknown> & IAppContext>(Component:FunctionComponent<T>) => {    return function withLayoutComponent(props:T):JSX.Element {        return (            <AppContextProvider firstCategory={props.firstCategory} menu={props.menu}>                <BaseLayout>                    <Component {...props}/>                </BaseLayout>            </AppContextProvider>        );    };};export default withLayout;